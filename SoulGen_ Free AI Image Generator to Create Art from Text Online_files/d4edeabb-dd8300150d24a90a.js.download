"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[440],{68577:function(E,x,a){a.d(x,{N:function(){return l},Q:function(){return m},U:function(){return a2},Y:function(){return bd},c:function(){return bJ},n:function(){return ce}});var g,h=a(74444),d=a(25816),F=a(97582),y=a(53333),i=a(8463);function j(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}let G=j,H=new h.LL("auth","Firebase",j()),I=new y.Yd("@firebase/auth");function J(a,...b){I.logLevel<=y.in.ERROR&&I.error(`Auth (${d.Jn}): ${a}`,...b)}
function K(a,...b){throw O(a,...b)}function L(a,...b){return O(a,...b)}function M(b,a,c){let d=Object.assign(Object.assign({},G()),{[a]:c}),e=new h.LL("auth","Firebase",d);return e.create(a,{appName:b.name})}function N(b,a,d){let c=d;if(!(a instanceof c))throw c.name!==a.constructor.name&&K(b,"argument-error"),M(b,"argument-error",`Type of ${a.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function O(a,...b){if("string"!=typeof a){let d=b[0],c=[...b.slice(1)];return c[0]&&(c[0].appName=a.name),a._errorFactory.create(d,...c)}return H.create(a,...b)}function P(a,b,...c){if(!a)throw O(b,...c)}function Q(b){let a="INTERNAL ASSERTION FAILED: "+b;throw J(a),Error(a)}function R(a,b){a||Q(b)}
let S=new Map;function T(b){R(b instanceof Function,"Expected a class definition");let a=S.get(b);return a?(R(a instanceof b,"Instance stored in cache mismatched with class"),a):(a=new b,S.set(b,a),a)}
function U(){var a;return"undefined"!=typeof self&&(null===(a=self.location)||void 0===a?void 0:a.href)||""}function V(){var a;return"undefined"!=typeof self&&(null===(a=self.location)||void 0===a?void 0:a.protocol)||null}
class b{constructor(a,b){this.shortDelay=a,this.longDelay=b,R(b>a,"Short delay should be less than long delay!"),this.isMobile=(0,h.uI)()||(0,h.b$)()}get(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===V()||"https:"===V()||(0,h.ru)()||"connection"in navigator))||navigator.onLine?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}
function W(b,a){R(b.emulator,"Emulator should always be set here");let{url:c}=b.emulator;return a?`${c}${a.startsWith("/")?a.slice(1):a}`:c}
class X{static initialize(c,a,b){this.fetchImpl=c,a&&(this.headersImpl=a),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Q("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Q("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Q("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}
let Y={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Z=new b(3e4,6e4);function $(b,a){return b.tenantId&&!a.tenantId?Object.assign(Object.assign({},a),{tenantId:b.tenantId}):a}async function _(a,c,d,e,b={}){return aa(a,b,async()=>{let f={},g={};e&&("GET"===c?g=e:f={body:JSON.stringify(e)});let i=(0,h.xO)(Object.assign({key:a.config.apiKey},g)).slice(1),b=await a._getAdditionalHeaders();return b["Content-Type"]="application/json",a.languageCode&&(b["X-Firebase-Locale"]=a.languageCode),X.fetch()(ac(a,a.config.apiHost,d,i),Object.assign({method:c,headers:b,referrerPolicy:"no-referrer"},f))})}async function aa(a,j,k){a._canInitEmulator=!1;let l=Object.assign(Object.assign({},Y),j);try{let e=new ad(a),d=await Promise.race([k(),e.promise]);e.clearNetworkTimeout();let b=await d.json();if("needConfirmation"in b)throw ae(a,"account-exists-with-different-credential",b);if(d.ok&&!("errorMessage"in b))return b;{let m=d.ok?b.errorMessage:b.error.message,[c,f]=m.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw ae(a,"credential-already-in-use",b);if("EMAIL_EXISTS"===c)throw ae(a,"email-already-in-use",b);if("USER_DISABLED"===c)throw ae(a,"user-disabled",b);let g=l[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw M(a,g,f);K(a,g)}}catch(i){if(i instanceof h.ZR)throw i;K(a,"network-request-failed")}}async function ab(b,c,d,e,f={}){let a=await _(b,c,d,e,f);return"mfaPendingCredential"in a&&K(b,"multi-factor-auth-required",{_serverResponse:a}),a}function ac(a,c,d,e){let b=`${c}${d}?${e}`;return a.config.emulator?W(a.config,b):`${a.config.apiScheme}://${b}`}class ad{constructor(a){this.auth=a,this.timer=null,this.promise=new Promise((a,b)=>{this.timer=setTimeout(()=>b(L(this.auth,"network-request-failed")),Z.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ae(c,e,a){let b={appName:c.name};a.email&&(b.email=a.email),a.phoneNumber&&(b.phoneNumber=a.phoneNumber);let d=L(c,e,b);return d.customData._tokenResponse=a,d}
async function af(a,b){return _(a,"POST","/v1/accounts:delete",b)}async function ag(a,b){return _(a,"POST","/v1/accounts:lookup",b)}
function ah(a){if(a)try{let b=new Date(Number(a));if(!isNaN(b.getTime()))return b.toUTCString()}catch(c){}}async function ai(e,f=!1){let c=(0,h.m9)(e),d=await c.getIdToken(f),a=ak(d);P(a&&a.exp&&a.auth_time&&a.iat,c.auth,"internal-error");let b="object"==typeof a.firebase?a.firebase:void 0,g=null==b?void 0:b.sign_in_provider;return{claims:a,token:d,authTime:ah(aj(a.auth_time)),issuedAtTime:ah(aj(a.iat)),expirationTime:ah(aj(a.exp)),signInProvider:g||null,signInSecondFactor:(null==b?void 0:b.sign_in_second_factor)||null}}function aj(a){return 1e3*Number(a)}function ak(d){var a;let[e,b,f]=d.split(".");if(void 0===e||void 0===b||void 0===f)return J("JWT malformed, contained fewer than 3 sections"),null;try{let c=(0,h.tV)(b);if(!c)return J("Failed to decode base64 JWT payload"),null;return JSON.parse(c)}catch(g){return J("Caught error parsing JWT payload as JSON",null===(a=g)||void 0===a?void 0:a.toString()),null}}
async function al(a,c,d=!1){if(d)return c;try{return await c}catch(b){throw b instanceof h.ZR&&am(b)&&a.auth.currentUser===a&&await a.auth.signOut(),b}}function am({code:a}){return"auth/user-disabled"===a||"auth/user-token-expired"===a}
class an{constructor(a,b){this.createdAt=a,this.lastLoginAt=b,this._initializeTime()}_initializeTime(){this.lastSignInTime=ah(this.lastLoginAt),this.creationTime=ah(this.createdAt)}_copy(a){this.createdAt=a.createdAt,this.lastLoginAt=a.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}
async function ao(b){var c;let f=b.auth,g=await b.getIdToken(),d=await al(b,ag(f,{idToken:g}));P(null==d?void 0:d.users.length,f,"internal-error");let a=d.users[0];b._notifyReloadListener(a);let h=(null===(c=a.providerUserInfo)||void 0===c?void 0:c.length)?ar(a.providerUserInfo):[],e=aq(b.providerData,h),i=b.isAnonymous,j=!(b.email&&a.passwordHash)&&!(null==e?void 0:e.length),k={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:e,metadata:new an(a.createdAt,a.lastLoginAt),isAnonymous:!!i&&j};Object.assign(b,k)}async function ap(b){let a=(0,h.m9)(b);await ao(a),await a.auth._persistUserIfCurrent(a),a.auth._notifyListenersIfCurrent(a)}function aq(a,b){let c=a.filter(a=>!b.some(b=>b.providerId===a.providerId));return[...c,...b]}function ar(a){return a.map(b=>{var{providerId:c}=b,a=(0,F._T)(b,["providerId"]);return{providerId:c,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}
async function as(b,c){let a=await aa(b,{},async()=>{let d=(0,h.xO)({grant_type:"refresh_token",refresh_token:c}).slice(1),{tokenApiHost:e,apiKey:f}=b.config,g=ac(b,e,"/v1/token",`key=${f}`),a=await b._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",X.fetch()(g,{method:"POST",headers:a,body:d})});return{accessToken:a.access_token,expiresIn:a.expires_in,refreshToken:a.refresh_token}}
class at{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(a){P(a.idToken,"internal-error"),P(void 0!==a.idToken,"internal-error"),P(void 0!==a.refreshToken,"internal-error");let b="expiresIn"in a&&void 0!==a.expiresIn?Number(a.expiresIn):function(b){let a=ak(b);return P(a,"internal-error"),P(void 0!==a.exp,"internal-error"),P(void 0!==a.iat,"internal-error"),Number(a.exp)-Number(a.iat)}(a.idToken);this.updateTokensAndExpiration(a.idToken,a.refreshToken,b)}async getToken(a,b=!1){return(P(!this.accessToken||this.refreshToken,a,"user-token-expired"),b||!this.accessToken||this.isExpired)?this.refreshToken?(await this.refresh(a,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(a,b){let{accessToken:c,refreshToken:d,expiresIn:e}=await as(a,b);this.updateTokensAndExpiration(c,d,Number(e))}updateTokensAndExpiration(a,b,c){this.refreshToken=b||null,this.accessToken=a||null,this.expirationTime=Date.now()+1e3*c}static fromJSON(b,f){let{refreshToken:c,accessToken:d,expirationTime:e}=f,a=new at;return c&&(P("string"==typeof c,"internal-error",{appName:b}),a.refreshToken=c),d&&(P("string"==typeof d,"internal-error",{appName:b}),a.accessToken=d),e&&(P("number"==typeof e,"internal-error",{appName:b}),a.expirationTime=e),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(a){this.accessToken=a.accessToken,this.refreshToken=a.refreshToken,this.expirationTime=a.expirationTime}_clone(){return Object.assign(new at,this.toJSON())}_performRefresh(){return Q("not implemented")}}
function au(a,b){P("string"==typeof a||void 0===a,"internal-error",{appName:b})}class av{constructor(b){var{uid:d,auth:e,stsTokenManager:c}=b,a=(0,F._T)(b,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new
class{constructor(a){this.user=a,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){!this.isRunning&&(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(b){var a;if(b){let c=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),c}{this.errorBackoff=3e4;let d=null!==(a=this.user.stsTokenManager.expirationTime)&&void 0!==a?a:0,e=d-Date.now()-3e5;return Math.max(0,e)}}schedule(a=!1){if(!this.isRunning)return;let b=this.getInterval(a);this.timerId=setTimeout(async()=>{await this.iteration()},b)}async iteration(){var a;try{await this.user.getIdToken(!0)}catch(b){(null===(a=b)||void 0===a?void 0:a.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=d,this.auth=e,this.stsTokenManager=c,this.accessToken=c.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new an(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(b){let a=await al(this,this.stsTokenManager.getToken(this.auth,b));return P(a,this.auth,"internal-error"),this.accessToken!==a&&(this.accessToken=a,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),a}getIdTokenResult(a){return ai(this,a)}reload(){return ap(this)}_assign(a){this!==a&&(P(this.uid===a.uid,this.auth,"internal-error"),this.displayName=a.displayName,this.photoURL=a.photoURL,this.email=a.email,this.emailVerified=a.emailVerified,this.phoneNumber=a.phoneNumber,this.isAnonymous=a.isAnonymous,this.tenantId=a.tenantId,this.providerData=a.providerData.map(a=>Object.assign({},a)),this.metadata._copy(a.metadata),this.stsTokenManager._assign(a.stsTokenManager))}_clone(a){return new av(Object.assign(Object.assign({},this),{auth:a,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(a){P(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=a,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(a){this.reloadListener?this.reloadListener(a):this.reloadUserInfo=a}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(a,c=!1){let b=!1;a.idToken&&a.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(a),b=!0),c&&await ao(this),await this.auth._persistUserIfCurrent(this),b&&this.auth._notifyListenersIfCurrent(this)}async delete(){let a=await this.getIdToken();return await al(this,af(this.auth,{idToken:a})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(a=>Object.assign({},a)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(a,b){var c,d,e,f,g,h,i,j;let o=null!==(c=b.displayName)&&void 0!==c?c:void 0,p=null!==(d=b.email)&&void 0!==d?d:void 0,q=null!==(e=b.phoneNumber)&&void 0!==e?e:void 0,r=null!==(f=b.photoURL)&&void 0!==f?f:void 0,s=null!==(g=b.tenantId)&&void 0!==g?g:void 0,k=null!==(h=b._redirectEventId)&&void 0!==h?h:void 0,t=null!==(i=b.createdAt)&&void 0!==i?i:void 0,u=null!==(j=b.lastLoginAt)&&void 0!==j?j:void 0,{uid:l,emailVerified:v,isAnonymous:w,providerData:m,stsTokenManager:x}=b;P(l&&x,a,"internal-error");let y=at.fromJSON(this.name,x);P("string"==typeof l,a,"internal-error"),au(o,a.name),au(p,a.name),P("boolean"==typeof v,a,"internal-error"),P("boolean"==typeof w,a,"internal-error"),au(q,a.name),au(r,a.name),au(s,a.name),au(k,a.name),au(t,a.name),au(u,a.name);let n=new av({uid:l,auth:a,email:p,emailVerified:v,displayName:o,isAnonymous:w,photoURL:r,phoneNumber:q,tenantId:s,stsTokenManager:y,createdAt:t,lastLoginAt:u});return m&&Array.isArray(m)&&(n.providerData=m.map(a=>Object.assign({},a))),k&&(n._redirectEventId=k),n}static async _fromIdTokenResponse(d,a,e=!1){let b=new at;b.updateFromServerResponse(a);let c=new av({uid:a.localId,auth:d,stsTokenManager:b,isAnonymous:e});return await ao(c),c}}
class k{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(a,b){this.storage[a]=b}async _get(b){let a=this.storage[b];return void 0===a?null:a}async _remove(a){delete this.storage[a]}_addListener(a,b){}_removeListener(a,b){}}k.type="NONE";let aw=k;function ax(a,b,c){return`firebase:${a}:${b}:${c}`}class ay{constructor(d,a,e){this.persistence=d,this.auth=a,this.userKey=e;let{config:b,name:c}=this.auth;this.fullUserKey=ax(this.userKey,b.apiKey,c),this.fullPersistenceKey=ax("persistence",b.apiKey,c),this.boundEventHandler=a._onStorageEvent.bind(a),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(a){return this.persistence._set(this.fullUserKey,a.toJSON())}async getCurrentUser(){let a=await this.persistence._get(this.fullUserKey);return a?av._fromJSON(this.auth,a):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(a){if(this.persistence===a)return;let b=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=a,b)return this.setCurrentUser(b)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(b,c,d="authUser"){if(!c.length)return new ay(T(aw),b,d);let g=(await Promise.all(c.map(async a=>{if(await a._isAvailable())return a}))).filter(a=>a),a=g[0]||T(aw),h=ax(d,b.config.apiKey,b.name),e=null;for(let f of c)try{let i=await f._get(h);if(i){let k=av._fromJSON(b,i);f!==a&&(e=k),a=f;break}}catch(l){}let j=g.filter(a=>a._shouldAllowMigration);return a._shouldAllowMigration&&j.length&&(a=j[0],e&&await a._set(h,e.toJSON()),await Promise.all(c.map(async b=>{if(b!==a)try{await b._remove(h)}catch(c){}}))),new ay(a,b,d)}}
function az(c){let a=c.toLowerCase();if(a.includes("opera/")||a.includes("opr/")||a.includes("opios/"))return"Opera";if(aD(a))return"IEMobile";if(a.includes("msie")||a.includes("trident/"))return"IE";{if(a.includes("edge/"))return"Edge";if(aA(a))return"Firefox";if(a.includes("silk/"))return"Silk";if(aF(a))return"Blackberry";if(aG(a))return"Webos";if(aB(a))return"Safari";if((a.includes("chrome/")||aC(a))&&!a.includes("edge/"))return"Chrome";if(aE(a))return"Android";let d=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,b=c.match(d);if((null==b?void 0:b.length)===2)return b[1]}return"Other"}function aA(a=(0,h.z$)()){return/firefox\//i.test(a)}function aB(b=(0,h.z$)()){let a=b.toLowerCase();return a.includes("safari/")&&!a.includes("chrome/")&&!a.includes("crios/")&&!a.includes("android")}function aC(a=(0,h.z$)()){return/crios\//i.test(a)}function aD(a=(0,h.z$)()){return/iemobile/i.test(a)}function aE(a=(0,h.z$)()){return/android/i.test(a)}function aF(a=(0,h.z$)()){return/blackberry/i.test(a)}function aG(a=(0,h.z$)()){return/webos/i.test(a)}function aH(a=(0,h.z$)()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function aI(a=(0,h.z$)()){return aH(a)||aE(a)||aG(a)||aF(a)||/windows phone/i.test(a)||aD(a)}
function aJ(b,c=[]){let a;switch(b){case"Browser":a=az((0,h.z$)());break;case"Worker":a=`${az((0,h.z$)())}-${b}`;break;default:a=b}let e=c.length?c.join(","):"FirebaseCore-web";return`${a}/JsCore/${d.Jn}/${e}`}
class aK{constructor(a,c,b){this.app=a,this.heartbeatServiceProvider=c,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new aM(this),this.idTokenSubscription=new aM(this),this.beforeStateQueue=new
class{constructor(a){this.auth=a,this.queue=[]}pushCallback(c,b){let a=a=>new Promise((b,d)=>{try{let e=c(a);b(e)}catch(f){d(f)}});a.onAbort=b,this.queue.push(a);let d=this.queue.length-1;return()=>{this.queue[d]=()=>Promise.resolve()}}async runMiddleware(d){var a;if(this.auth.currentUser===d)return;let b=[];try{for(let c of this.queue)await c(d),c.onAbort&&b.push(c.onAbort)}catch(e){for(let f of(b.reverse(),b))try{f()}catch(g){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(a=e)||void 0===a?void 0:a.message})}}}(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=H,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=a.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(b,a){return a&&(this._popupRedirectResolver=T(a)),this._initializationPromise=this.queue(async()=>{var c,d;if(!this._deleted&&(this.persistenceManager=await ay.create(this,b),!this._deleted)){if(null===(c=this._popupRedirectResolver)||void 0===c?void 0:c._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(a),this.lastNotifiedUid=(null===(d=this.currentUser)||void 0===d?void 0:d.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let a=await this.assertedPersistence.getCurrentUser();if(this.currentUser||a){if(this.currentUser&&a&&this.currentUser.uid===a.uid){this._currentUser._assign(a),await this.currentUser.getIdToken();return}await this._updateCurrentUser(a,!0)}}async initializeCurrentUser(d){var b;let e=await this.assertedPersistence.getCurrentUser(),a=e,f=!1;if(d&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let g=null===(b=this.redirectUser)||void 0===b?void 0:b._redirectEventId,h=null==a?void 0:a._redirectEventId,c=await this.tryRedirectSignIn(d);(!g||g===h)&&(null==c?void 0:c.user)&&(a=c.user,f=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(f)try{await this.beforeStateQueue.runMiddleware(a)}catch(i){a=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return(P(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId)?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(b){let a=null;try{a=await this._popupRedirectResolver._completeRedirectFn(this,b,!0)}catch(c){await this._setRedirectUser(null)}return a}async reloadAndSetCurrentUserOrClear(b){var a;try{await ao(b)}catch(c){if((null===(a=c)||void 0===a?void 0:a.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(b)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;let a=navigator;return a.languages&&a.languages[0]||a.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(b){let a=b?(0,h.m9)(b):null;return a&&P(a.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(a&&a._clone(this))}async _updateCurrentUser(a,b=!1){if(!this._deleted)return a&&P(this.tenantId===a.tenantId,this,"tenant-id-mismatch"),b||await this.beforeStateQueue.runMiddleware(a),this.queue(async()=>{await this.directlySetCurrentUser(a),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(a){return this.queue(async()=>{await this.assertedPersistence.setPersistence(T(a))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(a){this._errorFactory=new h.LL("auth","Firebase",a())}onAuthStateChanged(a,b,c){return this.registerStateListener(this.authStateSubscription,a,b,c)}beforeAuthStateChanged(a,b){return this.beforeStateQueue.pushCallback(a,b)}onIdTokenChanged(a,b,c){return this.registerStateListener(this.idTokenSubscription,a,b,c)}toJSON(){var a;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(a=this._currentUser)||void 0===a?void 0:a.toJSON()}}async _setRedirectUser(a,c){let b=await this.getOrInitRedirectPersistenceManager(c);return null===a?b.removeCurrentUser():b.setCurrentUser(a)}async getOrInitRedirectPersistenceManager(a){if(!this.redirectPersistenceManager){let b=a&&T(a)||this._popupRedirectResolver;P(b,this,"argument-error"),this.redirectPersistenceManager=await ay.create(this,[T(b._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(c){var a,b;return(this._isInitialized&&await this.queue(async()=>{}),(null===(a=this._currentUser)||void 0===a?void 0:a._redirectEventId)===c)?this._currentUser:(null===(b=this.redirectUser)||void 0===b?void 0:b._redirectEventId)===c?this.redirectUser:null}async _persistUserIfCurrent(a){if(a===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(a))}_notifyListenersIfCurrent(a){a===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var a,b;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let c=null!==(b=null===(a=this.currentUser)||void 0===a?void 0:a.uid)&&void 0!==b?b:null;this.lastNotifiedUid!==c&&(this.lastNotifiedUid=c,this.authStateSubscription.next(this.currentUser))}registerStateListener(b,a,d,e){if(this._deleted)return()=>{};let f="function"==typeof a?a:a.next.bind(a),c=this._isInitialized?Promise.resolve():this._initializationPromise;return(P(c,this,"internal-error"),c.then(()=>f(this.currentUser)),"function"==typeof a)?b.addObserver(a,d,e):b.addObserver(a)}async directlySetCurrentUser(a){this.currentUser&&this.currentUser!==a&&(this._currentUser._stopProactiveRefresh(),a&&this.isProactiveRefreshEnabled&&a._startProactiveRefresh()),this.currentUser=a,a?await this.assertedPersistence.setCurrentUser(a):await this.assertedPersistence.removeCurrentUser()}queue(a){return this.operations=this.operations.then(a,a),this.operations}get assertedPersistence(){return P(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(a){!(!a||this.frameworks.includes(a))&&(this.frameworks.push(a),this.frameworks.sort(),this.clientVersion=aJ(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;let b={"X-Client-Version":this.clientVersion};this.app.options.appId&&(b["X-Firebase-gmpid"]=this.app.options.appId);let c=await(null===(a=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===a?void 0:a.getHeartbeatsHeader());return c&&(b["X-Firebase-Client"]=c),b}}function aL(a){return(0,h.m9)(a)}class aM{constructor(a){this.auth=a,this.observer=null,this.addObserver=(0,h.ne)(a=>this.observer=a)}get next(){return P(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function aN(a){if(!a)return null;let b=Number(a);return isNaN(b)?null:b}
class e{constructor(a,b){this.providerId=a,this.signInMethod=b}toJSON(){return Q("not implemented")}_getIdTokenResponse(a){return Q("not implemented")}_linkToIdToken(a,b){return Q("not implemented")}_getReauthenticationResolver(a){return Q("not implemented")}}
async function aO(a,b){return _(a,"POST","/v1/accounts:resetPassword",$(a,b))}async function aP(a,b){return _(a,"POST","/v1/accounts:update",b)}
async function aQ(a,b){return ab(a,"POST","/v1/accounts:signInWithPassword",$(a,b))}async function aR(a,b){return _(a,"POST","/v1/accounts:sendOobCode",$(a,b))}
async function aS(a,b){return ab(a,"POST","/v1/accounts:signInWithEmailLink",$(a,b))}async function aT(a,b){return ab(a,"POST","/v1/accounts:signInWithEmailLink",$(a,b))}
class aU extends e{constructor(a,b,c,d=null){super("password",c),this._email=a,this._password=b,this._tenantId=d}static _fromEmailAndPassword(a,b){return new aU(a,b,"password")}static _fromEmailAndCode(a,b,c=null){return new aU(a,b,"emailLink",c)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(b){let a="string"==typeof b?JSON.parse(b):b;if((null==a?void 0:a.email)&&(null==a?void 0:a.password)){if("password"===a.signInMethod)return this._fromEmailAndPassword(a.email,a.password);if("emailLink"===a.signInMethod)return this._fromEmailAndCode(a.email,a.password,a.tenantId)}return null}async _getIdTokenResponse(a){switch(this.signInMethod){case"password":return aQ(a,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return aS(a,{email:this._email,oobCode:this._password});default:K(a,"internal-error")}}async _linkToIdToken(a,b){switch(this.signInMethod){case"password":return aP(a,{idToken:b,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return aT(a,{idToken:b,email:this._email,oobCode:this._password});default:K(a,"internal-error")}}_getReauthenticationResolver(a){return this._getIdTokenResponse(a)}}
async function aV(a,b){return ab(a,"POST","/v1/accounts:signInWithIdp",$(a,b))}class aW extends e{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(a){let b=new aW(a.providerId,a.signInMethod);return a.idToken||a.accessToken?(a.idToken&&(b.idToken=a.idToken),a.accessToken&&(b.accessToken=a.accessToken),a.nonce&&!a.pendingToken&&(b.nonce=a.nonce),a.pendingToken&&(b.pendingToken=a.pendingToken)):a.oauthToken&&a.oauthTokenSecret?(b.accessToken=a.oauthToken,b.secret=a.oauthTokenSecret):K("argument-error"),b}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(c){let d="string"==typeof c?JSON.parse(c):c,{providerId:e,signInMethod:f}=d,b=(0,F._T)(d,["providerId","signInMethod"]);if(!e||!f)return null;let a=new aW(e,f);return a.idToken=b.idToken||void 0,a.accessToken=b.accessToken||void 0,a.secret=b.secret,a.nonce=b.nonce,a.pendingToken=b.pendingToken||null,a}_getIdTokenResponse(a){let b=this.buildRequest();return aV(a,b)}_linkToIdToken(b,c){let a=this.buildRequest();return a.idToken=c,aV(b,a)}_getReauthenticationResolver(b){let a=this.buildRequest();return a.autoCreate=!1,aV(b,a)}buildRequest(){let b={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)b.pendingToken=this.pendingToken;else{let a={};this.idToken&&(a.id_token=this.idToken),this.accessToken&&(a.access_token=this.accessToken),this.secret&&(a.oauth_token_secret=this.secret),a.providerId=this.providerId,this.nonce&&!this.pendingToken&&(a.nonce=this.nonce),b.postBody=(0,h.xO)(a)}return b}}
async function aX(a,b){return _(a,"POST","/v1/accounts:sendVerificationCode",$(a,b))}async function aY(a,b){return ab(a,"POST","/v1/accounts:signInWithPhoneNumber",$(a,b))}async function aZ(a,c){let b=await ab(a,"POST","/v1/accounts:signInWithPhoneNumber",$(a,c));if(b.temporaryProof)throw ae(a,"account-exists-with-different-credential",b);return b}let a$={USER_NOT_FOUND:"user-not-found"};async function a_(a,b){let c=Object.assign(Object.assign({},b),{operation:"REAUTH"});return ab(a,"POST","/v1/accounts:signInWithPhoneNumber",$(a,c),a$)}
class a0 extends e{constructor(a){super("phone","phone"),this.params=a}static _fromVerification(a,b){return new a0({verificationId:a,verificationCode:b})}static _fromTokenResponse(a,b){return new a0({phoneNumber:a,temporaryProof:b})}_getIdTokenResponse(a){return aY(a,this._makeVerificationRequest())}_linkToIdToken(a,b){return aZ(a,Object.assign({idToken:b},this._makeVerificationRequest()))}_getReauthenticationResolver(a){return a_(a,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:a,phoneNumber:b,verificationId:c,verificationCode:d}=this.params;return a&&b?{temporaryProof:a,phoneNumber:b}:{sessionInfo:c,code:d}}toJSON(){let a={providerId:this.providerId};return this.params.phoneNumber&&(a.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(a.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(a.verificationCode=this.params.verificationCode),this.params.verificationId&&(a.verificationId=this.params.verificationId),a}static fromJSON(a){"string"==typeof a&&(a=JSON.parse(a));let{verificationId:b,verificationCode:c,phoneNumber:d,temporaryProof:e}=a;return c||b||d||e?new a0({verificationId:b,verificationCode:c,phoneNumber:d,temporaryProof:e}):null}}class a1{constructor(l){var b,c,d,e,f,g;let a=(0,h.zd)((0,h.pd)(l)),i=null!==(b=a.apiKey)&&void 0!==b?b:null,j=null!==(c=a.oobCode)&&void 0!==c?c:null,k=function(a){switch(a){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(d=a.mode)&&void 0!==d?d:null);P(i&&j&&k,"argument-error"),this.apiKey=i,this.operation=k,this.code=j,this.continueUrl=null!==(e=a.continueUrl)&&void 0!==e?e:null,this.languageCode=null!==(f=a.languageCode)&&void 0!==f?f:null,this.tenantId=null!==(g=a.tenantId)&&void 0!==g?g:null}static parseLink(a){let b=function(a){let b=(0,h.zd)((0,h.pd)(a)).link,d=b?(0,h.zd)((0,h.pd)(b)).deep_link_id:null,c=(0,h.zd)((0,h.pd)(a)).deep_link_id,e=c?(0,h.zd)((0,h.pd)(c)).link:null;return e||c||d||b||a}(a);try{return new a1(b)}catch(c){return null}}}
class f{constructor(){this.providerId=f.PROVIDER_ID}static credential(a,b){return aU._fromEmailAndPassword(a,b)}static credentialWithLink(b,c){let a=a1.parseLink(c);return P(a,"argument-error"),aU._fromEmailAndCode(b,a.code,a.tenantId)}}f.PROVIDER_ID="password",f.EMAIL_PASSWORD_SIGN_IN_METHOD="password",f.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class z{constructor(a){this.providerId=a,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(a){this.defaultLanguageCode=a}setCustomParameters(a){return this.customParameters=a,this}getCustomParameters(){return this.customParameters}}
class c extends z{constructor(){super(...arguments),this.scopes=[]}addScope(a){return this.scopes.includes(a)||this.scopes.push(a),this}getScopes(){return[...this.scopes]}}class a2 extends c{static credentialFromJSON(a){let b="string"==typeof a?JSON.parse(a):a;return P("providerId"in b&&"signInMethod"in b,"argument-error"),aW._fromParams(b)}credential(a){return this._credential(Object.assign(Object.assign({},a),{nonce:a.rawNonce}))}_credential(a){return P(a.idToken||a.accessToken,"argument-error"),aW._fromParams(Object.assign(Object.assign({},a),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(a){return a2.oauthCredentialFromTaggedObject(a)}static credentialFromError(a){return a2.oauthCredentialFromTaggedObject(a.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:a}){if(!a)return null;let{oauthIdToken:b,oauthAccessToken:c,oauthTokenSecret:f,pendingToken:d,nonce:g,providerId:e}=a;if(!c&&!f&&!b&&!d||!e)return null;try{return new a2(e)._credential({idToken:b,accessToken:c,nonce:g,pendingToken:d})}catch(h){return null}}}
class l extends c{constructor(){super("facebook.com")}static credential(a){return aW._fromParams({providerId:l.PROVIDER_ID,signInMethod:l.FACEBOOK_SIGN_IN_METHOD,accessToken:a})}static credentialFromResult(a){return l.credentialFromTaggedObject(a)}static credentialFromError(a){return l.credentialFromTaggedObject(a.customData||{})}static credentialFromTaggedObject({_tokenResponse:a}){if(!a||!("oauthAccessToken"in a)||!a.oauthAccessToken)return null;try{return l.credential(a.oauthAccessToken)}catch(b){return null}}}l.FACEBOOK_SIGN_IN_METHOD="facebook.com",l.PROVIDER_ID="facebook.com";class m extends c{constructor(){super("google.com"),this.addScope("profile")}static credential(a,b){return aW._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GOOGLE_SIGN_IN_METHOD,idToken:a,accessToken:b})}static credentialFromResult(a){return m.credentialFromTaggedObject(a)}static credentialFromError(a){return m.credentialFromTaggedObject(a.customData||{})}static credentialFromTaggedObject({_tokenResponse:a}){if(!a)return null;let{oauthIdToken:b,oauthAccessToken:c}=a;if(!b&&!c)return null;try{return m.credential(b,c)}catch(d){return null}}}m.GOOGLE_SIGN_IN_METHOD="google.com",m.PROVIDER_ID="google.com";class n extends c{constructor(){super("github.com")}static credential(a){return aW._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:a})}static credentialFromResult(a){return n.credentialFromTaggedObject(a)}static credentialFromError(a){return n.credentialFromTaggedObject(a.customData||{})}static credentialFromTaggedObject({_tokenResponse:a}){if(!a||!("oauthAccessToken"in a)||!a.oauthAccessToken)return null;try{return n.credential(a.oauthAccessToken)}catch(b){return null}}}n.GITHUB_SIGN_IN_METHOD="github.com",n.PROVIDER_ID="github.com";class a3 extends null{constructor(a,b){super(a,a),this.pendingToken=b}_getIdTokenResponse(a){let b=this.buildRequest();return aV(a,b)}_linkToIdToken(b,c){let a=this.buildRequest();return a.idToken=c,aV(b,a)}_getReauthenticationResolver(b){let a=this.buildRequest();return a.autoCreate=!1,aV(b,a)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(a){let e="string"==typeof a?JSON.parse(a):a,{providerId:b,signInMethod:c,pendingToken:d}=e;return b&&c&&d&&b===c?new a3(b,d):null}static _create(a,b){return new a3(a,b)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class a4 extends null{constructor(a){P(a.startsWith("saml."),"argument-error"),super(a)}static credentialFromResult(a){return a4.samlCredentialFromTaggedObject(a)}static credentialFromError(a){return a4.samlCredentialFromTaggedObject(a.customData||{})}static credentialFromJSON(b){let a=a3.fromJSON(b);return P(a,"argument-error"),a}static samlCredentialFromTaggedObject({_tokenResponse:a}){if(!a)return null;let{pendingToken:b,providerId:c}=a;if(!b||!c)return null;try{return a3._create(c,b)}catch(d){return null}}}
class o extends c{constructor(){super("twitter.com")}static credential(a,b){return aW._fromParams({providerId:o.PROVIDER_ID,signInMethod:o.TWITTER_SIGN_IN_METHOD,oauthToken:a,oauthTokenSecret:b})}static credentialFromResult(a){return o.credentialFromTaggedObject(a)}static credentialFromError(a){return o.credentialFromTaggedObject(a.customData||{})}static credentialFromTaggedObject({_tokenResponse:a}){if(!a)return null;let{oauthAccessToken:b,oauthTokenSecret:c}=a;if(!b||!c)return null;try{return o.credential(b,c)}catch(d){return null}}}o.TWITTER_SIGN_IN_METHOD="twitter.com",o.PROVIDER_ID="twitter.com";class a5{constructor(a){this.user=a.user,this.providerId=a.providerId,this._tokenResponse=a._tokenResponse,this.operationType=a.operationType}static async _fromIdTokenResponse(b,c,a,d=!1){let e=await av._fromIdTokenResponse(b,a,d),f=a6(a),g=new a5({user:e,providerId:f,_tokenResponse:a,operationType:c});return g}static async _forOperation(b,c,a){await b._updateTokensIfNecessary(a,!0);let d=a6(a);return new a5({user:b,providerId:d,_tokenResponse:a,operationType:c})}}function a6(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}
class a7 extends h.ZR{constructor(c,a,d,e){var b;super(a.code,a.message),this.operationType=d,this.user=e,Object.setPrototypeOf(this,a7.prototype),this.customData={appName:c.name,tenantId:null!==(b=c.tenantId)&&void 0!==b?b:void 0,_serverResponse:a.customData._serverResponse,operationType:d}}static _fromErrorAndOperation(a,b,c,d){return new a7(a,b,c,d)}}function a8(a,c,b,e){let d="reauthenticate"===c?b._getReauthenticationResolver(a):b._getIdTokenResponse(a);return d.catch(b=>{if("auth/multi-factor-auth-required"===b.code)throw a7._fromErrorAndOperation(a,b,c,e);throw b})}async function a9(a,b,c=!1){let d=await al(a,b._linkToIdToken(a.auth,await a.getIdToken()),c);return a5._forOperation(a,"link",d)}async function ba(b,a,d){var c;await ao(a);let e=(c=a.providerData,new Set(c.map(({providerId:a})=>a).filter(a=>!!a)));P(e.has(d)===b,a.auth,!1===b?"provider-already-linked":"no-such-provider")}
async function bb(a,h,i=!1){var c;let{auth:b}=a,e="reauthenticate";try{let d=await al(a,a8(b,e,h,a),i);P(d.idToken,b,"internal-error");let f=ak(d.idToken);P(f,b,"internal-error");let{sub:j}=f;return P(a.uid===j,b,"user-mismatch"),a5._forOperation(a,e,d)}catch(g){throw(null===(c=g)||void 0===c?void 0:c.code)==="auth/user-not-found"&&K(b,"user-mismatch"),g}}
async function bc(a,d,e=!1){let b="signIn",f=await a8(a,b,d),c=await a5._fromIdTokenResponse(a,b,f);return e||await a._updateCurrentUser(c.user),c}async function bd(a,b){return bc(aL(a),b)}
class be{constructor(b,a){this.factorId=b,this.uid=a.mfaEnrollmentId,this.enrollmentTime=new Date(a.enrolledAt).toUTCString(),this.displayName=a.displayName}static _fromServerResponse(a,b){return"phoneInfo"in b?bf._fromServerResponse(a,b):K(a,"internal-error")}}class bf extends null{constructor(a){super("phone",a),this.phoneNumber=a.phoneInfo}static _fromServerResponse(b,a){return new bf(a)}}class bg{constructor(a,b){this.type=a,this.credential=b}static _fromIdtoken(a){return new bg("enroll",a)}static _fromMfaPendingCredential(a){return new bg("signin",a)}toJSON(){let a="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:{[a]:this.credential}}}static fromJSON(a){var b,c;if(null==a?void 0:a.multiFactorSession){if(null===(b=a.multiFactorSession)||void 0===b?void 0:b.pendingCredential)return bg._fromMfaPendingCredential(a.multiFactorSession.pendingCredential);if(null===(c=a.multiFactorSession)||void 0===c?void 0:c.idToken)return bg._fromIdtoken(a.multiFactorSession.idToken)}return null}}
class bh{constructor(a,b,c){this.session=a,this.hints=b,this.signInResolver=c}static _fromError(b,c){let d=aL(b),a=c.customData._serverResponse,e=(a.mfaInfo||[]).map(a=>be._fromServerResponse(d,a));P(a.mfaPendingCredential,d,"internal-error");let f=bg._fromMfaPendingCredential(a.mfaPendingCredential);return new bh(f,e,async h=>{let b=await h._process(d,f);delete a.mfaInfo,delete a.mfaPendingCredential;let e=Object.assign(Object.assign({},a),{idToken:b.idToken,refreshToken:b.refreshToken});switch(c.operationType){case"signIn":let g=await a5._fromIdTokenResponse(d,c.operationType,e);return await d._updateCurrentUser(g.user),g;case"reauthenticate":return P(c.user,d,"internal-error"),a5._forOperation(c.user,c.operationType,e);default:K(d,"internal-error")}})}async resolveSignIn(a){return this.signInResolver(a)}}class bi{constructor(a){this.user=a,this.enrolledFactors=[],a._onReload(b=>{b.mfaInfo&&(this.enrolledFactors=b.mfaInfo.map(b=>be._fromServerResponse(a.auth,b)))})}static _fromUser(a){return new bi(a)}async getSession(){return bg._fromIdtoken(await this.user.getIdToken())}async enroll(a,b){let c=await this.getSession(),d=await al(this.user,a._process(this.user.auth,c,b));return await this.user._updateTokensIfNecessary(d),this.user.reload()}async unenroll(a){var b,c,e;let f="string"==typeof a?a:a.uid,g=await this.user.getIdToken(),h=await al(this.user,(c=this.user.auth,_(c,"POST","/v2/accounts/mfaEnrollment:withdraw",$(c,e={idToken:g,mfaEnrollmentId:f}))));this.enrolledFactors=this.enrolledFactors.filter(({uid:a})=>a!==f),await this.user._updateTokensIfNecessary(h);try{await this.user.reload()}catch(d){if((null===(b=d)||void 0===b?void 0:b.code)!=="auth/user-token-expired")throw d}}}new WeakMap;let bj="__sak";class p{constructor(a,b){this.storageRetriever=a,this.type=b}_isAvailable(){try{if(!this.storage)return Promise.resolve(!1);return this.storage.setItem(bj,"1"),this.storage.removeItem(bj),Promise.resolve(!0)}catch(a){return Promise.resolve(!1)}}_set(a,b){return this.storage.setItem(a,JSON.stringify(b)),Promise.resolve()}_get(b){let a=this.storage.getItem(b);return Promise.resolve(a?JSON.parse(a):null)}_remove(a){return this.storage.removeItem(a),Promise.resolve()}get storage(){return this.storageRetriever()}}class q extends p{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(a,b)=>this.onStorageEvent(a,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){let a=(0,h.z$)();return aB(a)||aH(a)}()&&function(){try{return!!(window&&window!==window.top)}catch(a){return!1}}(),this.fallbackToPolling=aI(),this._shouldAllowMigration=!0}forAllChangedKeys(d){for(let a of Object.keys(this.listeners)){let b=this.storage.getItem(a),c=this.localCache[a];b!==c&&d(a,c,b)}}onStorageEvent(a,c=!1){if(!a.key){this.forAllChangedKeys((a,c,b)=>{this.notifyListeners(a,b)});return}let b=a.key;if(c?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let e=this.storage.getItem(b);if(a.newValue!==e)null!==a.newValue?this.storage.setItem(b,a.newValue):this.storage.removeItem(b);else if(this.localCache[b]===a.newValue&&!c)return}let d=()=>{let a=this.storage.getItem(b);(c||this.localCache[b]!==a)&&this.notifyListeners(b,a)},f=this.storage.getItem(b);(0,h.w1)()&&10===document.documentMode&&f!==a.newValue&&a.newValue!==a.oldValue?setTimeout(d,10):d()}notifyListeners(b,a){this.localCache[b]=a;let c=this.listeners[b];if(c)for(let d of Array.from(c))d(a?JSON.parse(a):a)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((a,b,c)=>{this.onStorageEvent(new StorageEvent("storage",{key:a,oldValue:b,newValue:c}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(a,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[a]||(this.listeners[a]=new Set,this.localCache[a]=this.storage.getItem(a)),this.listeners[a].add(b)}_removeListener(a,b){this.listeners[a]&&(this.listeners[a].delete(b),0===this.listeners[a].size&&delete this.listeners[a]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(a,b){await super._set(a,b),this.localCache[a]=JSON.stringify(b)}async _get(a){let b=await super._get(a);return this.localCache[a]=JSON.stringify(b),b}async _remove(a){await super._remove(a),delete this.localCache[a]}}q.type="LOCAL";let bk=q;class r extends p{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(a,b){}_removeListener(a,b){}}r.type="SESSION";let bl=r;class A{constructor(a){this.eventTarget=a,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(c){let a=this.receivers.find(a=>a.isListeningto(c));if(a)return a;let b=new A(c);return this.receivers.push(b),b}isListeningto(a){return this.eventTarget===a}async handleEvent(e){var f;let a=e,{eventId:d,eventType:b,data:i}=a.data,c=this.handlersMap[b];if(!(null==c?void 0:c.size))return;a.ports[0].postMessage({status:"ack",eventId:d,eventType:b});let g=Array.from(c).map(async b=>b(a.origin,i)),h=await Promise.all((f=g).map(async a=>{try{let b=await a;return{fulfilled:!0,value:b}}catch(c){return{fulfilled:!1,reason:c}}}));a.ports[0].postMessage({status:"done",eventId:d,eventType:b,response:h})}_subscribe(a,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[a]||(this.handlersMap[a]=new Set),this.handlersMap[a].add(b)}_unsubscribe(a,b){this.handlersMap[a]&&b&&this.handlersMap[a].delete(b),b&&0!==this.handlersMap[a].size||delete this.handlersMap[a],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}
function bm(c="",d=10){let a="";for(let b=0;b<d;b++)a+=Math.floor(10*Math.random());return c+a}A.receivers=[];class bn{constructor(a){this.target=a,this.handlers=new Set}removeMessageHandler(a){a.messageChannel&&(a.messageChannel.port1.removeEventListener("message",a.onMessage),a.messageChannel.port1.close()),this.handlers.delete(a)}async _send(b,c,d=50){let a="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!a)throw Error("connection_unavailable");let e,f;return new Promise((h,i)=>{let g=bm("",20);a.port1.start();let j=setTimeout(()=>{i(Error("unsupported_event"))},d);f={messageChannel:a,onMessage(b){let a=b;if(a.data.eventId===g)switch(a.data.status){case"ack":clearTimeout(j),e=setTimeout(()=>{i(Error("timeout"))},3e3);break;case"done":clearTimeout(e),h(a.data.response);break;default:clearTimeout(j),clearTimeout(e),i(Error("invalid_response"))}}},this.handlers.add(f),a.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:b,eventId:g,data:c},[a.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}
function bo(){return void 0!==window.WorkerGlobalScope&&"function"==typeof window.importScripts}async function bp(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{let a=await navigator.serviceWorker.ready;return a.active}catch(b){return null}}
let bq="firebaseLocalStorageDb",br="firebaseLocalStorage",bs="fbase_key";class bt{constructor(a){this.request=a}toPromise(){return new Promise((a,b)=>{this.request.addEventListener("success",()=>{a(this.request.result)}),this.request.addEventListener("error",()=>{b(this.request.error)})})}}function bu(a,b){return a.transaction([br],b?"readwrite":"readonly").objectStore(br)}function bv(){let a=indexedDB.open(bq,1);return new Promise((b,c)=>{a.addEventListener("error",()=>{c(a.error)}),a.addEventListener("upgradeneeded",()=>{let b=a.result;try{b.createObjectStore(br,{keyPath:bs})}catch(d){c(d)}}),a.addEventListener("success",async()=>{let c=a.result;c.objectStoreNames.contains(br)?b(c):(c.close(),await function(){let a=indexedDB.deleteDatabase(bq);return new bt(a).toPromise()}(),b(await bv()))})})}async function bw(a,b,c){let d=bu(a,!0).put({[bs]:b,value:c});return new bt(d).toPromise()}async function bx(b,c){let d=bu(b,!1).get(c),a=await new bt(d).toPromise();return void 0===a?null:a.value}function by(a,b){let c=bu(a,!0).delete(b);return new bt(c).toPromise()}class s{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await bv()),this.db}async _withRetries(a){let b=0;for(;;)try{let c=await this._openDb();return await a(c)}catch(d){if(b++>3)throw d;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bo()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=A._getInstance(bo()?self:null),this.receiver._subscribe("keyChanged",async(c,a)=>{let b=await this._poll();return{keyProcessed:b.includes(a.key)}}),this.receiver._subscribe("ping",async(a,b)=>["keyChanged"])}async initializeSender(){var a,b;if(this.activeServiceWorker=await bp(),!this.activeServiceWorker)return;this.sender=new bn(this.activeServiceWorker);let c=await this.sender._send("ping",{},800);c&&(null===(a=c[0])||void 0===a?void 0:a.fulfilled)&&(null===(b=c[0])||void 0===b?void 0:b.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(b){var a;if(this.sender&&this.activeServiceWorker&&((null===(a=null==navigator?void 0:navigator.serviceWorker)||void 0===a?void 0:a.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:b},this.serviceWorkerReceiverAvailable?800:50)}catch(c){}}async _isAvailable(){try{if(!indexedDB)return!1;let a=await bv();return await bw(a,bj,"1"),await by(a,bj),!0}catch(b){}return!1}async _withPendingWrite(a){this.pendingWrites++;try{await a()}finally{this.pendingWrites--}}async _set(a,b){return this._withPendingWrite(async()=>(await this._withRetries(c=>bw(c,a,b)),this.localCache[a]=b,this.notifyServiceWorker(a)))}async _get(b){let a=await this._withRetries(a=>bx(a,b));return this.localCache[b]=a,a}async _remove(a){return this._withPendingWrite(async()=>(await this._withRetries(b=>by(b,a)),delete this.localCache[a],this.notifyServiceWorker(a)))}async _poll(){let d=await this._withRetries(a=>{let b=bu(a,!1).getAll();return new bt(b).toPromise()});if(!d||0!==this.pendingWrites)return[];let c=[],e=new Set;for(let{fbase_key:a,value:f}of d)e.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(f)&&(this.notifyListeners(a,f),c.push(a));for(let b of Object.keys(this.localCache))this.localCache[b]&&!e.has(b)&&(this.notifyListeners(b,null),c.push(b));return c}notifyListeners(a,b){this.localCache[a]=b;let c=this.listeners[a];if(c)for(let d of Array.from(c))d(b)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(a,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[a]||(this.listeners[a]=new Set,this._get(a)),this.listeners[a].add(b)}_removeListener(a,b){this.listeners[a]&&(this.listeners[a].delete(b),0===this.listeners[a].size&&delete this.listeners[a]),0===Object.keys(this.listeners).length&&this.stopPolling()}}s.type="LOCAL";let bz=s;function B(a){return`__${a}${Math.floor(1e6*Math.random())}`}class bA{constructor(a,c,d){this.params=d,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};let b="string"==typeof a?document.getElementById(a):a;P(b,"argument-error",{appName:c}),this.container=b,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=bB(50);let{callback:a,"expired-callback":b}=this.params;if(a)try{a(this.responseToken)}catch(c){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,b)try{b()}catch(a){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw Error("reCAPTCHA mock was already deleted!")}}function bB(d){let a=[],b="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let c=0;c<d;c++)a.push(b.charAt(Math.floor(Math.random()*b.length)));return a.join("")}B("rcb"),new b(3e4,6e4);async function bC(a,e,f){var g,h,j,i,k;let c=await f.verify();try{P("string"==typeof c,a,"argument-error"),P("recaptcha"===f.type,a,"argument-error");let b;if(b="string"==typeof e?{phoneNumber:e}:e,"session"in b){let d=b.session;if("phoneNumber"in b){P("enroll"===d.type,a,"internal-error");let m=await(h=a,j={idToken:d.credential,phoneEnrollmentInfo:{phoneNumber:b.phoneNumber,recaptchaToken:c}},_(h,"POST","/v2/accounts/mfaEnrollment:start",$(h,j)));return m.phoneSessionInfo.sessionInfo}{P("signin"===d.type,a,"internal-error");let l=(null===(g=b.multiFactorHint)||void 0===g?void 0:g.uid)||b.multiFactorUid;P(l,a,"missing-multi-factor-info");let n=await(i=a,k={mfaPendingCredential:d.credential,mfaEnrollmentId:l,phoneSignInInfo:{recaptchaToken:c}},_(i,"POST","/v2/accounts/mfaSignIn:start",$(i,k)));return n.phoneResponseInfo.sessionInfo}}{let{sessionInfo:o}=await aX(a,{phoneNumber:b.phoneNumber,recaptchaToken:c});return o}}finally{f._reset()}}
class t{constructor(a){this.providerId=t.PROVIDER_ID,this.auth=aL(a)}verifyPhoneNumber(a,b){return bC(this.auth,a,(0,h.m9)(b))}static credential(a,b){return a0._fromVerification(a,b)}static credentialFromResult(a){return t.credentialFromTaggedObject(a)}static credentialFromError(a){return t.credentialFromTaggedObject(a.customData||{})}static credentialFromTaggedObject({_tokenResponse:a}){if(!a)return null;let{phoneNumber:b,temporaryProof:c}=a;return b&&c?a0._fromTokenResponse(b,c):null}}
function bD(a,b){return b?T(b):(P(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}t.PROVIDER_ID="phone",t.PHONE_SIGN_IN_METHOD="phone";class bE extends e{constructor(a){super("custom","custom"),this.params=a}_getIdTokenResponse(a){return aV(a,this._buildIdpRequest())}_linkToIdToken(a,b){return aV(a,this._buildIdpRequest(b))}_getReauthenticationResolver(a){return aV(a,this._buildIdpRequest())}_buildIdpRequest(a){let b={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return a&&(b.idToken=a),b}}function bF(a){return bc(a.auth,new bE(a),a.bypassAuthState)}function bG(a){let{auth:c,user:b}=a;return P(b,c,"internal-error"),bb(b,new bE(a),a.bypassAuthState)}async function bH(a){let{auth:c,user:b}=a;return P(b,c,"internal-error"),a9(b,new bE(a),a.bypassAuthState)}
class u{constructor(b,a,c,d,e=!1){this.auth=b,this.resolver=c,this.user=d,this.bypassAuthState=e,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(a)?a:[a]}execute(){return new Promise(async(a,b)=>{this.pendingPromise={resolve:a,reject:b};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(c){this.reject(c)}})}async onAuthEvent(b){let{urlResponse:c,sessionId:d,postBody:e,tenantId:f,error:a,type:g}=b;if(a){this.reject(a);return}let h={auth:this.auth,requestUri:c,sessionId:d,tenantId:f||void 0,postBody:e||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(h))}catch(i){this.reject(i)}}onError(a){this.reject(a)}getIdpTask(a){switch(a){case"signInViaPopup":case"signInViaRedirect":return bF;case"linkViaPopup":case"linkViaRedirect":return bH;case"reauthViaPopup":case"reauthViaRedirect":return bG;default:K(this.auth,"internal-error")}}resolve(a){R(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(a),this.unregisterAndCleanUp()}reject(a){R(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(a),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}
let bI=new b(2e3,1e4);async function bJ(a,b,d){let c=aL(a);N(a,b,z);let e=bD(c,d),f=new C(c,"signInViaPopup",b,e);return f.executeNotNull()}class C extends u{constructor(a,b,c,d,e){super(a,b,d,e),this.provider=c,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}async executeNotNull(){let a=await this.execute();return P(a,this.auth,"internal-error"),a}async onExecution(){R(1===this.filter.length,"Popup operations only handle one event");let a=bm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],a),this.authWindow.associatedEvent=a,this.resolver._originValidation(this.auth).catch(a=>{this.reject(a)}),this.resolver._isIframeWebStorageSupported(this.auth,a=>{a||this.reject(L(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var a;return(null===(a=this.authWindow)||void 0===a?void 0:a.associatedEvent)||null}cancel(){this.reject(L(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){let a=()=>{var b,c;if(null===(c=null===(b=this.authWindow)||void 0===b?void 0:b.window)||void 0===c?void 0:c.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(L(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(a,bI.get())};a()}}C.currentPopupAction=null;let bK=new Map;class bL extends u{constructor(a,b,c=!1){super(a,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],b,void 0,c),this.eventId=null}async execute(){let a=bK.get(this.auth._key());if(!a){try{let b=await bM(this.resolver,this.auth),c=b?await super.execute():null;a=()=>Promise.resolve(c)}catch(d){a=()=>Promise.reject(d)}bK.set(this.auth._key(),a)}return this.bypassAuthState||bK.set(this.auth._key(),()=>Promise.resolve(null)),a()}async onAuthEvent(a){if("signInViaRedirect"===a.type)return super.onAuthEvent(a);if("unknown"===a.type){this.resolve(null);return}if(a.eventId){let b=await this.auth._redirectUserForId(a.eventId);if(b)return this.user=b,super.onAuthEvent(a);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bM(c,d){let b=bP(d),a=bO(c);if(!await a._isAvailable())return!1;let e=await a._get(b)==="true";return await a._remove(b),e}async function bN(a,b){return bO(a)._set(bP(b),"true")}function bO(a){return T(a._redirectPersistence)}function bP(a){return ax("pendingRedirect",a.config.apiKey,a.name)}async function bQ(e,c,d=!1){let a=aL(e),f=bD(a,c),g=new bL(a,f,d),b=await g.execute();return b&&!d&&(delete b.user._redirectEventId,await a._persistUserIfCurrent(b.user),await a._setRedirectUser(null,c)),b}async function bR(a){let b=bm(`${a.uid}:::`);return a._redirectEventId=b,await a.auth._setRedirectUser(a),await a.auth._persistUserIfCurrent(a),b}class bS{constructor(a){this.auth=a,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(a){this.consumers.add(a),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,a)&&(this.sendToConsumer(this.queuedRedirectEvent,a),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(a){this.consumers.delete(a)}onEvent(a){if(this.hasEventBeenHandled(a))return!1;let b=!1;return this.consumers.forEach(c=>{this.isEventForConsumer(a,c)&&(b=!0,this.sendToConsumer(a,c),this.saveEventToCache(a))}),this.hasHandledPotentialRedirect||!bV(a)||(this.hasHandledPotentialRedirect=!0,b||(this.queuedRedirectEvent=a,b=!0)),b}sendToConsumer(a,c){var b;if(a.error&&!bU(a)){let d=(null===(b=a.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";c.onError(L(this.auth,d))}else c.onAuthEvent(a)}isEventForConsumer(a,b){let c=null===b.eventId||!!a.eventId&&a.eventId===b.eventId;return b.filter.includes(a.type)&&c}hasEventBeenHandled(a){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(bT(a))}saveEventToCache(a){this.cachedEventUids.add(bT(a)),this.lastProcessedEventTime=Date.now()}}function bT(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(a=>a).join("-")}function bU({type:b,error:a}){return"unknown"===b&&(null==a?void 0:a.code)==="auth/no-auth-event"}function bV(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bU(a);default:return!1}}
async function bW(a,b={}){return _(a,"GET","/v1/projects",b)}
let bX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bY=/^https?/;async function bZ(a){if(a.config.emulator)return;let{authorizedDomains:b}=await bW(a);for(let c of b)try{if(b$(c))return}catch(d){}K(a,"unauthorized-domain")}function b$(a){let d=U(),{protocol:c,hostname:b}=new URL(d);if(a.startsWith("chrome-extension://")){let e=new URL(a);return""===e.hostname&&""===b?"chrome-extension:"===c&&a.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===c&&e.hostname===b}if(!bY.test(c))return!1;if(bX.test(a))return b===a;let f=a.replace(/\./g,"\\."),g=RegExp("^(.+\\."+f+"|"+f+")$","i");return g.test(b)}
let b_=new b(3e4,6e4);function b0(){let a=window.___jsl;if(null==a?void 0:a.H){for(let b of Object.keys(a.H))if(a.H[b].r=a.H[b].r||[],a.H[b].L=a.H[b].L||[],a.H[b].r=[...a.H[b].L],a.CP)for(let c=0;c<a.CP.length;c++)a.CP[c]=null}}let b1=null,b2=new b(5e3,15e3),b3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},b4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);async function b5(a){var b,e;let f=await(b=a,b1=b1||(e=b,new Promise((f,i)=>{var a,b,c,g;function h(){b0(),gapi.load("gapi.iframes",{callback(){f(gapi.iframes.getContext())},ontimeout(){b0(),i(L(e,"network-request-failed"))},timeout:b_.get()})}if(null===(b=null===(a=window.gapi)||void 0===a?void 0:a.iframes)||void 0===b?void 0:b.Iframe)f(gapi.iframes.getContext());else if(null===(c=window.gapi)||void 0===c?void 0:c.load)h();else{let d=B("iframefcb");return window[d]=()=>{gapi.load?h():i(L(e,"network-request-failed"))},(g=`https://apis.google.com/js/api.js?onload=${d}`,new Promise((d,e)=>{var b,c;let a=document.createElement("script");a.setAttribute("src",g),a.onload=d,a.onerror=b=>{let a=L("internal-error");a.customData=b,e(a)},a.type="text/javascript",a.charset="UTF-8",(null!==(c=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==c?c:document).appendChild(a)})).catch(a=>i(a))}}).catch(a=>{throw b1=null,a}))),c=window.gapi;return P(c,a,"internal-error"),f.open({where:document.body,url:function(a){let b=a.config;P(b.authDomain,a,"auth-domain-config-required");let g=b.emulator?W(b,"emulator/auth/iframe"):`https://${a.config.authDomain}/__/auth/iframe`,c={apiKey:b.apiKey,appName:a.name,v:d.Jn},e=b4.get(a.config.apiHost);e&&(c.eid=e);let f=a._getFrameworks();return f.length&&(c.fw=f.join(",")),`${g}?${(0,h.xO)(c).slice(1)}`}(a),messageHandlersFilter:c.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:b3,dontclear:!0},b=>new Promise(async(d,e)=>{await b.restyle({setHideOnLeave:!1});let f=L(a,"network-request-failed"),g=window.setTimeout(()=>{e(f)},b2.get());function c(){window.clearTimeout(g),d(b)}b.ping(c).then(c,()=>{e(f)})}))}
let b6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class b7{constructor(a){this.window=a,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(a){}}}function b8(a,b,j,k,l,m){P(a.config.authDomain,a,"auth-domain-config-required"),P(a.config.apiKey,a,"invalid-api-key");let e={apiKey:a.config.apiKey,appName:a.name,authType:j,redirectUrl:k,v:d.Jn,eventId:l};if(b instanceof z)for(let[n,o]of(b.setDefaultLanguage(a.languageCode),e.providerId=b.providerId||"",(0,h.xb)(b.getCustomParameters())||(e.customParameters=JSON.stringify(b.getCustomParameters())),Object.entries(m||{})))e[n]=o;if(b instanceof c){let g=b.getScopes().filter(a=>""!==a);g.length>0&&(e.scopes=g.join(","))}a.tenantId&&(e.tid=a.tenantId);let f=e;for(let i of Object.keys(f))void 0===f[i]&&delete f[i];return`${b9(a)}?${(0,h.xO)(f).slice(1)}`}function b9({config:a}){return a.emulator?W(a,"emulator/auth/handler"):`https://${a.authDomain}/__/auth/handler`}
let ca="webStorageSupport",cb=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bl,this._completeRedirectFn=bQ,this._overrideRedirectResult=function(a,b){bK.set(a._key(),b)}}async _openPopup(a,c,d,e){var b;R(null===(b=this.eventManagers[a._key()])||void 0===b?void 0:b.manager,"_initialize() not called before _openPopup()");let f=b8(a,c,d,U(),e);return function(j,a,e,f=500,g=600){let k=Math.max((window.screen.availHeight-g)/2,0).toString(),l=Math.max((window.screen.availWidth-f)/2,0).toString(),b="",i=Object.assign(Object.assign({},b6),{width:f.toString(),height:g.toString(),top:k,left:l}),c=(0,h.z$)().toLowerCase();e&&(b=aC(c)?"_blank":e),aA(c)&&(a=a||"http://localhost",i.scrollbars="yes");let m=Object.entries(i).reduce((a,[b,c])=>`${a}${b}=${c},`,"");if(function(b=(0,h.z$)()){var a;return aH(b)&&!!(null===(a=window.navigator)||void 0===a?void 0:a.standalone)}(c)&&"_self"!==b)return function e(c,d){let a=document.createElement("a");a.href=c,a.target=d;let b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),a.dispatchEvent(b)}(a||"",b),new b7(null);let d=window.open(a||"",b,m);P(d,j,"popup-blocked");try{d.focus()}catch(n){}return new b7(d)}(a,f,bm())}async _openRedirect(a,c,d,e){var b;return await this._originValidation(a),b=b8(a,c,d,U(),e),window.location.href=b,new Promise(()=>{})}_initialize(c){let a=c._key();if(this.eventManagers[a]){let{manager:d,promise:e}=this.eventManagers[a];return d?Promise.resolve(d):(R(e,"If manager is not set, promise should be"),e)}let b=this.initAndGetManager(c);return this.eventManagers[a]={promise:b},b.catch(()=>{delete this.eventManagers[a]}),b}async initAndGetManager(a){let b=await b5(a),c=new bS(a);return b.register("authEvent",b=>{P(null==b?void 0:b.authEvent,a,"invalid-auth-event");let d=c.onEvent(b.authEvent);return{status:d?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[a._key()]={manager:c},this.iframes[a._key()]=b,c}_isIframeWebStorageSupported(a,c){let b=this.iframes[a._key()];b.send(ca,{type:ca},d=>{var b;let e=null===(b=null==d?void 0:d[0])||void 0===b?void 0:b[ca];void 0!==e&&c(!!e),K(a,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(b){let a=b._key();return this.originValidationPromises[a]||(this.originValidationPromises[a]=bZ(b)),this.originValidationPromises[a]}get _shouldInitProactively(){return aI()||aB()||aH()}};class D{constructor(a){this.factorId=a}_process(b,a,c){switch(a.type){case"enroll":return this._finalizeEnroll(b,a.credential,c);case"signin":return this._finalizeSignIn(b,a.credential);default:return Q("unexpected MultiFactorSessionType")}}}class cc extends D{constructor(a){super("phone"),this.credential=a}static _fromCredential(a){return new cc(a)}_finalizeEnroll(b,c,d){var a,e;return a=b,_(a,"POST","/v2/accounts/mfaEnrollment:finalize",$(a,e={idToken:c,displayName:d,phoneVerificationInfo:this.credential._makeVerificationRequest()}))}_finalizeSignIn(b,c){var a,d;return a=b,_(a,"POST","/v2/accounts/mfaSignIn:finalize",$(a,d={mfaPendingCredential:c,phoneVerificationInfo:this.credential._makeVerificationRequest()}))}}(class{constructor(){}static assertion(a){return cc._fromCredential(a)}}).FACTOR_ID="phone";var v="@firebase/auth",w="0.20.5";class cd{constructor(a){this.auth=a,this.internalListeners=new Map}getUid(){var a;return this.assertAuthConfigured(),(null===(a=this.auth.currentUser)||void 0===a?void 0:a.uid)||null}async getToken(a){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;let b=await this.auth.currentUser.getIdToken(a);return{accessToken:b}}addAuthTokenListener(a){if(this.assertAuthConfigured(),this.internalListeners.has(a))return;let b=this.auth.onIdTokenChanged(c=>{var b;a((null===(b=c)||void 0===b?void 0:b.stsTokenManager.accessToken)||null)});this.internalListeners.set(a,b),this.updateProactiveRefresh()}removeAuthTokenListener(a){this.assertAuthConfigured();let b=this.internalListeners.get(a);b&&(this.internalListeners.delete(a),b(),this.updateProactiveRefresh())}assertAuthConfigured(){P(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}
function ce(a=(0,d.Mq)()){let b=(0,d.qX)(a,"auth");return b.isInitialized()?b.getImmediate():function(e,b){let a=(0,d.qX)(e,"auth");if(a.isInitialized()){let c=a.getImmediate(),f=a.getOptions();if((0,h.vZ)(f,null!=b?b:{}))return c;K(c,"already-initialized")}let g=a.initialize({options:b});return g}(a,{popupRedirectResolver:cb,persistence:[bz,bk,bl]})}g="Browser",(0,d.Xd)(new i.wA("auth",(a,{options:d})=>{let b=a.getProvider("app").getImmediate(),c=a.getProvider("heartbeat"),{apiKey:e,authDomain:f}=b.options;return((a,c)=>{P(e&&!e.includes(":"),"invalid-api-key",{appName:a.name}),P(!(null==f?void 0:f.includes(":")),"argument-error",{appName:a.name});let h={apiKey:e,authDomain:f,clientPlatform:g,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aJ(g)},b=new aK(a,c,h);return function(c,a){let b=(null==a?void 0:a.persistence)||[],d=(Array.isArray(b)?b:[b]).map(T);(null==a?void 0:a.errorMap)&&c._updateErrorMap(a.errorMap),c._initializeWithPersistence(d,null==a?void 0:a.popupRedirectResolver)}(b,d),b})(b,c)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((a,c,d)=>{let b=a.getProvider("auth-internal");b.initialize()})),(0,d.Xd)(new i.wA("auth-internal",b=>{var a;let c=aL(b.getProvider("auth").getImmediate());return a=c,new cd(a)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,d.KN)(v,w,function(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(g)),(0,d.KN)(v,w,"esm2017")}}])